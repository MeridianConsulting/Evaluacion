:root {
  --cc-bg: rgba(6, 10, 17, 0.75);
  --cc-card: #0f1725;
  --cc-text: #e8eefc;
  --cc-muted: #a7b3c9;
  --cc-primary1: #1F3B73;
  --cc-primary2: #0A0F1A;
  --cc-accent: #34d399; /* verde éxito sutil */
  --cc-border: rgba(255, 255, 255, 0.08);
  --cc-shadow: 0 20px 60px rgba(0, 0, 0, 0.45), 0 6px 24px rgba(0, 0, 0, 0.3);
}

.cc-portal {
  position: fixed; inset: 0; z-index: 9999;
  display: grid; place-items: center;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
}

.cc-backdrop {
  position: absolute; inset: 0;
  background: var(--cc-bg);
  backdrop-filter: blur(6px);
}

.cc-layer-beams::before,
.cc-layer-beams::after {
  content: "";
  position: absolute;
  inset: -30%;
  background: conic-gradient(from 90deg, rgba(31,59,115,.25), rgba(10,15,26,0) 40%, rgba(31,59,115,.25));
  filter: blur(40px);
  animation: cc-rotate 18s linear infinite;
}
.cc-layer-beams::after {
  animation-direction: reverse;
  opacity: .6;
}
.cc-layer-beams,
.cc-layer-dust {
  position: absolute; inset: 0; pointer-events: none;
}

.cc-layer-dust {
  background:
    radial-gradient(1200px 800px at 80% 10%, rgba(31,59,115,.14), transparent 60%),
    radial-gradient(900px 600px at 20% 80%, rgba(10,15,26,.18), transparent 55%);
  mix-blend-mode: screen;
}

/* Tarjeta */
.cc-card {
  position: relative;
  width: min(720px, 92vw);
  background: linear-gradient(180deg, rgba(15,23,37,0.85), rgba(10,15,26,0.85));
  border: 1px solid var(--cc-border);
  border-radius: 20px;
  padding: clamp(20px, 3.5vw, 32px);
  color: var(--cc-text);
  box-shadow: var(--cc-shadow);
  overflow: hidden;
  transform: translateY(20px);
  animation: cc-pop 800ms cubic-bezier(.25,.46,.45,.94) forwards;
}

/* Check animado */
.cc-check-wrap { display: grid; place-items: center; margin-bottom: 4px; }
.cc-check { width: 84px; height: 84px; }
.cc-check-ring {
  fill: none;
  stroke: url(#ccGrad);
  stroke-width: 4;
  opacity: .35;
}
.cc-check-mark {
  stroke: var(--cc-accent);
  stroke-width: 6;
  stroke-dasharray: 68;
  stroke-dashoffset: 68;
  animation: cc-draw 1200ms 300ms ease-out forwards;
}

.cc-title {
  margin: 4px 0 2px;
  font-size: clamp(22px, 2.6vw, 28px);
  font-weight: 800;
  letter-spacing: .2px;
  text-align: center;
  opacity: 0;
  animation: cc-fade-in 600ms 600ms ease-out forwards;
}
.cc-sub {
  margin: 0 0 14px;
  text-align: center;
  color: var(--cc-muted);
  font-size: clamp(14px, 1.7vw, 16px);
  opacity: 0;
  animation: cc-fade-in 600ms 800ms ease-out forwards;
}

/* Métricas */
.cc-metrics {
  display: grid;
  grid-template-columns: 1fr;
  gap: 18px;
  align-items: center;
  justify-items: center;
  margin: 12px 0 6px;
  opacity: 0;
  animation: cc-fade-in 600ms 1000ms ease-out forwards;
}

.cc-badge {
  position: relative;
  width: 160px; height: 160px;
  display: grid; place-items: center;
  filter: drop-shadow(0 8px 24px rgba(31,59,115,.25));
}
.cc-badge-ring { width: 160px; height: 160px; transform: rotate(-90deg); }
.cc-badge-track {
  fill: none; stroke: rgba(255,255,255,.08); stroke-width: 12;
}
.cc-badge-progress {
  fill: none; stroke: url(#ccGrad); stroke-width: 12;
  stroke-linecap: round;
  transition: stroke-dashoffset 1500ms cubic-bezier(.25,.46,.45,.94);
}
.cc-badge-content {
  position: absolute; inset: 0;
  display: grid; place-items: center;
}
.cc-badge-value {
  font-weight: 800;
  font-size: 28px;
  line-height: 1;
}
.cc-badge-label {
  margin-top: 6px;
  font-size: 12px;
  color: var(--cc-muted);
  letter-spacing: .3px;
  text-transform: uppercase;
}

.cc-mini-metrics {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
  width: 100%;
  max-width: 460px;
}
.cc-metric {
  background: rgba(255,255,255,0.04);
  border: 1px solid var(--cc-border);
  border-radius: 14px;
  padding: 12px 14px;
  display: grid;
  gap: 4px;
}
.cc-metric-label {
  font-size: 12px; color: var(--cc-muted); letter-spacing: .3px; text-transform: uppercase;
}
.cc-metric-value {
  font-size: 18px; font-weight: 700;
}

/* Botones */
.cc-actions {
  margin-top: 16px;
  display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;
  opacity: 0;
  animation: cc-fade-in 600ms 1200ms ease-out forwards;
}
.cc-btn {
  border: 1px solid var(--cc-border);
  border-radius: 12px;
  padding: 10px 14px;
  font-weight: 600;
  cursor: pointer;
  transition: transform .18s ease, box-shadow .18s ease, background .18s ease, color .18s ease;
}
.cc-btn.primary {
  background: linear-gradient(135deg, var(--cc-primary1), var(--cc-primary2));
  color: white;
  box-shadow: 0 6px 18px rgba(31,59,115,.35);
}
.cc-btn.primary:hover { transform: translateY(-1px); box-shadow: 0 10px 24px rgba(31,59,115,.45); }
.cc-btn.ghost {
  background: transparent; color: var(--cc-text);
}
.cc-btn.ghost:hover {
  background: rgba(255,255,255,0.06);
}

/* Confeti */
.cc-confetti {
  position: absolute; inset: 0; pointer-events: none; overflow: hidden;
}
.cc-confetti span {
  --size: calc(6px + (var(--i) * 0.4px));
  position: absolute;
  left: calc(5% + (var(--i) * 7%));
  top: -20px;
  width: var(--size); height: var(--size);
  background: hsl(calc(var(--i) * 28), 80%, 60%);
  opacity: .9;
  border-radius: 2px;
  transform: rotate(15deg);
  animation: cc-fall calc(4000ms + var(--i)*100ms) ease-in forwards;
  animation-delay: calc(var(--i) * 80ms + 500ms);
  filter: drop-shadow(0 2px 4px rgba(0,0,0,.25));
}

/* Animaciones */
@keyframes cc-draw { 
  from { stroke-dashoffset: 68; } 
  to { stroke-dashoffset: 0; } 
}
@keyframes cc-pop {
  0% { transform: translateY(20px) scale(.95); opacity: 0; }
  50% { transform: translateY(-5px) scale(1.02); opacity: 0.8; }
  100% { transform: translateY(0) scale(1); opacity: 1; }
}
@keyframes cc-fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes cc-rotate { to { transform: rotate(360deg); } }
@keyframes cc-fall {
  0%   { transform: translateY(-20px) rotate(0deg); opacity: 0; }
  15%  { opacity: 1; }
  85%  { opacity: 0.8; }
  100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
}

/* Accesibilidad: reducir movimiento */
@media (prefers-reduced-motion: reduce) {
  .cc-card,
  .cc-check-mark,
  .cc-confetti span,
  .cc-layer-beams::before,
  .cc-layer-beams::after,
  .cc-title,
  .cc-sub,
  .cc-metrics,
  .cc-actions {
    animation: none !important;
    transition: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
  .cc-badge-progress { transition: none !important; }
}
